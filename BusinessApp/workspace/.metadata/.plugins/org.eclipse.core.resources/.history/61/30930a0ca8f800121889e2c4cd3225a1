<%-- 
    Document   : newjsp4
    Created on : Feb 6, 2013, 4:22:24 PM
    Author     : Ramu
--%>

<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib uri="http://www.springframework.org/tags/form" prefix="form"%>

<%@ include file="/WEB-INF/views/common/include.jsp" %>
<%@ include file="/WEB-INF/views/common/header_no_side.jsp" %>	

<%@ page language="java" 
	pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Profile Overview</title>

	<!--[if lt IE 9]>
	<link href="/css/style.css" rel="stylesheet" type="text/css" />
	<![endif]-->
	<link href="/css/style.css" rel="stylesheet" type="text/css" media="only screen and (min-width: 941px)" />


<style type="text/css">
table tr {
	border: none
}

table tbody {
	border: none;
}


table td {
	height: 30px;
	text-align: center;
	vertical-align: middle;
	margin-top: 4px;
}
</style>
<STYLE>
body,input {
	margin: 0px;
	padding: 0px;
}

a {
	color: #0254EB
}

a:visited {
	color: #0254EB
}

#header h2 {
	color: white;
	background-color: #00A1E6;
	margin: 0px;
	padding: 5px;
}

.comment {
	width: 100%;
	background-color: #f0f0f0;
}

a.morelink {
	text-decoration: none;
	outline: none;
}

.morecontent span {
	display: none;
}

table tr:nth-child(2n) {
	background: none;
}

</STYLE>


<SCRIPT>
	$(document)
			.ready(
					function() {
						var showChar = 300;
						var ellipsestext = "...";
						var moretext = "more";
						var lesstext = "less";
						$('.more')
								.each(
										function() {
											var content = $(this).html();

											if (content.length > showChar) {

												var c = content.substr(0,
														showChar);
												var h = content.substr(
														showChar - 1,
														content.length
																- showChar);

												var html = c
														+ '<span class="moreelipses">'
														+ ellipsestext
														+ '</span>&nbsp;<span class="morecontent"><span>'
														+ h
														+ '</span>&nbsp;&nbsp;<a href="" class="morelink">'
														+ moretext
														+ '</a></span>';

												$(this).html(html);
											}

										});

						$(".morelink").click(function() {
							if ($(this).hasClass("less")) {
								$(this).removeClass("less");
								$(this).html(moretext);
							} else {
								$(this).addClass("less");
								$(this).html(lesstext);
							}
							$(this).parent().prev().toggle();
							$(this).prev().toggle();
							return false;
						});
					});
</SCRIPT>

</head>
<body>
			
	<table style="width: 900px;">
		<tr>
		<!-- 
			<td
				style="width: 150px; vertical-align: top; background-color: #EAEAEA; padding: 5px;">
				 
				<table>
					<tr>
						<td><img src="/images/heading.png" width="100" height="100"></img></td>
					</tr>
					<tr>
						<td style="font-size: 14px; font-weight: bold; text-align: left;"><a
							href="" style="text-decoration: none">Profile
								Overview </a></td>
					</tr>

					<tr>
						<td style="font-size: 14px; text-align: left;"><a href="packages?profileId=${profileId}"
							style="text-decoration: none">Available Packages</a></td>
					</tr>
					 
					<tr>
						<td style="font-size: 14px; text-align: left;"><a
							href="workexperience?profileId=${profileId}" style="text-decoration: none">Job
								History 2</a></td>
					</tr>
					 
					<tr>
						<td style="font-size: 14px; text-align: left;"><a
							href="#workexperience" style="text-decoration: none">Job
								History</a></td>
					</tr>
					<tr>
						<td style="font-size: 14px; text-align: left;"><a
							href="#education" style="text-decoration: none">Education</a></td>
					</tr>
					 
					<tr>
						<td style="font-size: 14px; text-align: left;"><a
							href="education?profileId=${profileId}" style="text-decoration: none">Education 2</a></td>
					</tr>
					
				</table>
			</td>
			-->
			<td style="width: 730px; padding: 5px;">
				<table>
					<tr>
						<td style="margin-top: 4px;"> <!-- style="margin-top -->
						
<div class="tabs">
				<ul >
					<li><a href="#overview">OVERVIEW &nbsp;&nbsp; /</a></li>
					<li><a href="#education">EDUCATION &nbsp;&nbsp; /</a></li>
					<li><a href="#jobhistory">JOB HISTORY &nbsp;&nbsp; /</a></li>
					<li><a href="#packages">AVAILABLE PACKAGES</a></li>
				</ul>
				
<div id="overview">
<table>
	<tr> <td>
<c:set var="URL" value="${profileInfo.getVideo_url()}"/>
<c:set var="URL" value="${URL}=" />
<c:set var="a" value="${fn:split(URL, '=')}" />
<c:set var="utubeVideo" value="${a[1]}" />
<%
System.out.println("The value of the URL is: " + pageContext.findAttribute("utubeVideo"));
out.println("<iframe width=\"120\" height=\"120\" src=\"//www.youtube.com/embed/"+ pageContext.findAttribute("utubeVideo")  +"\" frameborder=\"0\" allowfullscreen></iframe>");
%>	
		 </td>
<td><img id="photo2" src="displayProfileImage?profileId=${profileId}" height="120px" width="120px" /></td>
		 
		 <td background="displayProfileImage?profileId=${profileId}"></td><td>
							<table>
								<tr>
									<td
										style="float: left; color: blue; font-weight: bold; font-size: 20px;">John Doe
									</td>
									<td style="float: right;"><input type="submit" value="Edit Profile"
										style="text-decoration: none; font-size: 14px; background-color: lightblue; background-position: right;" />
									</td>
								</tr>
							</table>

							<table>
							<tr>
								<td style="font-size: 12px; text-align: left; vertical-align: top;"><b>Country:</b> USA &nbsp; <b>Language:</b> English <br><b>Clients:</b> <c:out value="${totalClients}"></c:out> &nbsp; <b>Average Rating:</b> <%@ include file="/WEB-INF/views/common/average_rating.jsp" %><br><b>Highest Position Held:</b> VP Of Information Technology
								</td>




							</tr>
							</table>
</td>
</tr>
</table>
							
<!-- 
							<table>
								<tr>
									<td style="float: left; color: blue;">Country:&nbsp;</td>
									<td style="float: left; color: blue;">USA &nbsp; &nbsp;</td>
									<td style="float: left; color: blue;">Language:&nbsp;</td>
									<td style="float: left; color: blue;">English</td>
								</tr>
								<tr>
									<td style="float: left; color: red;">Highest Position Held
										:</td>
									<td style="float: left; color: red;">VP Information
										Technology</td>
								</tr>
							</table>
 

							<table>
								<tr>
									<td style="float: left;">Clients:</td>
									<td style="float: left;"><c:out value="${totalClients}"></c:out></td>
									<td style="width: 206px;" />
									<td style="float: left;">Average Rating :</td>
									<td style="float: left;">
								@ include file="/WEB-INF/views/common/average_rating.jsp" 	
									</td>
								</tr>
							</table>
-->							
							<table>
								<tr>
									<td><h1 style="color: blue; text-align: center;">Overview</h1></td>
								</tr>

							</table>
							<table>
								<tr>
									<td style="text-align: left;">
										<div class="comment more">${profileInfo.getOverview()} --- Weiss Pro Audio manufactures
											professional digital and analog audio equipment for quality
											conscious people. Expect no less than excellence in design,
											ergonomics and sonic quality. This is what our name stands
											for. Weiss Pro Audio manufactures professional digital and
											analog audio equipment for quality conscious people. Expect
											no less than excellence in design, ergonomics and sonic
											quality. This is what our name stands for. Weiss Pro Audio
											manufactures professional digital and analog audio equipment
											for quality conscious people. Expect no less than excellence
											in design, ergonomics and sonic quality. This is what our
											name stands for.</div>
									</td>
								</tr>
							</table> <br></br>
							<table>
								<tr>
									<td><h1 style="color: blue; text-align: center;">Service
											Description</h1></td>
								</tr>

							</table>
							<table>
								<tr>
									<td style="text-align: left;">
										<div class="comment more">${profileInfo.getServiceDescription()} --- Weiss Pro Audio manufactures
											professional digital and analog audio equipment for quality
											conscious people. Expect no less than excellence in design,
											ergonomics and sonic quality. This is what our name stands
											for. Weiss Pro Audio manufactures professional digital and
											analog audio equipment for quality conscious people. Expect
											no less than excellence in design, ergonomics and sonic
											quality. This is what our name stands for. Weiss Pro Audio
											manufactures professional digital and analog audio equipment
											for quality conscious people. Expect no less than excellence
											in design, ergonomics and sonic quality. This is what our
											name stands for.</div>
									</td>
								</tr>
							</table>
							<table>
								<tr>
									<td><h1 style="color: blue; text-align: center;">Skills</h1></td>
								</tr>

							</table>
							<table>
								<tr>
									<td style="text-align: left;">
										<div class="comment more">${profileInfo.getSkillsExpertise()} --- Weiss Pro Audio manufactures
											professional digital and analog audio equipment for quality
											conscious people. Expect no less than excellence in design,
											ergonomics and sonic quality. This is what our name stands
											for. Weiss Pro Audio manufactures professional digital and
											analog audio equipment for quality conscious people. Expect
											no less than excellence in design, ergonomics and sonic
											quality. This is what our name stands for. Weiss Pro Audio
											manufactures professional digital and analog audio equipment
											for quality conscious people. Expect no less than excellence
											in design, ergonomics and sonic quality. This is what our
											name stands for.</div>
									</td>
								</tr>
							</table> <br></br>
</div><!-- end of overview -->
<div id="jobhistory">
							
							<table>
								<tr style="border-bottom:1px solid #000;">
									<td style="text-align: left; font-weight: bold;"><h2>JOB HISTORY </h2></td>
									<td><c:url var="jobhistoryUrl" value="/workexperience" />
										<form:form method="GET" action="${jobhistoryUrl}"
											commandName="jobHistoryAttribute">
										<input type="hidden" name="profileId" id="profileId" value="${profileId}"></input>
											
											<table>
												<tr>
													<td><input type="submit" value="Add / Edit / Delete Job History"
														style="text-decoration: none; font-size: 14px; text-align: right; background-color: lightblue; background-position: right; float: right;" /></td>
												</tr>
											</table>
										</form:form></td>
								</tr>
							</table> <c:if test="${!empty addExperiences}">
								<table class="data" style="width:100%;">
									<tr>
										<th style="text-align: left;">&nbsp;&nbsp;Company</th>
										<th style="text-align: left;">Title</th>
										<th style="text-align: left;">City/State</th>
										<th style="text-align: left;">From</th>
										<th style="text-align: left;">To</th>

									</tr>
									<c:forEach items="${addExperiences}" var="jobHostory">
										<tr>
											<td style="text-align: left;">
											<div style="width:200px;word-wrap: break-word;">${jobHostory.employerName}</div></td>
											<td style="text-align: left;"><div style="word-wrap: break-word; width:150px;">${jobHostory.labelName}</div></td>
											<td style="text-align: left;"><div style="word-wrap: break-word; width:150px;">${jobHostory.countryName}</div></td>
											<td style="text-align: left;"><div style="word-wrap: break-word; width:100px;">${jobHostory.startDate}</div></td>
											<td style="text-align: left;"><div style="word-wrap: break-word; width:100px;">${jobHostory.endDate}</div></td>
										</tr>
									</c:forEach>
								</table>
							</c:if><br></br>
</div><!-- end of jobhistory -->
<div id="education">
							<table>
								<tr style="border-bottom:1px solid #000;">
									<td style="text-align: left; font-weight: bold;"><h2>EDUCATION / CERTIFICATES</h2></td>
									<td><c:url var="educationUrl" value="/education" /> <form:form
											method="GET" action="${educationUrl}">
										<input type="hidden" name="profileId" id="profileId" value="${profileId}"></input>
											<table>
												<tr>
													<td><input type="submit" value="Add / Edit / Delete Education"
														style="text-decoration: none; font-size: 14px; text-align: right; background-color: lightblue; background-position: right; float: right;" /></td>
												</tr>
											</table>
										</form:form></td>
								</tr>
							</table> <c:if test="${!empty addEducations}">
								<table class="data">
									<tr>
										<td style="text-align: left; font-weight: bold;width:200px;">School/Organization</td>
										<td style="text-align: left; font-weight: bold;width:200px;">Degree/certificate</td>
										<td style="text-align: left; font-weight: bold;width:200px;">Concentrations</td>
										<td style="text-align: left; font-weight: bold;width:100px;">Graduated Date</td>

									</tr>
									<c:forEach items="${addEducations}" var="educations">

										<tr>
											<td style="text-align: left;"><div style="width:200px;word-wrap: break-word;">${educations.schoolName}</div></td>
											<td style="text-align: left;"><div style="width:200px;word-wrap: break-word;">${educations.degreeLevel}</div></td>
											<td style="text-align: left;"><div style="width:200px;word-wrap: break-word;">${educations.concentrationsName}</div></td>
											<td style="text-align: left;"><div style="width:100px;word-wrap: break-word;">${educations.toDate}</div></td>

										</tr>
									</c:forEach>
								</table>
							</c:if> <br></br>
</div><!-- end of education -->
<div id="packages">
							<!-- ============================  Packages  =========================================== -->
							<table>
								<tr style="border-bottom:1px solid #000;">
									<td style="text-align: left; font-weight: bold;"><h2>AVAILABLE PACKAGES</h2></td>
									<td><c:url var="educationUrl" value="/education" /> <form:form
											method="GET" action="${packagesUrl}">
										<input type="hidden" name="profileId" id="profileId" value="${profileId}"></input>
											<table>
												<tr>
													<td><input type="submit" value="Add / Edit / Delete Packages"
														style="text-decoration: none; font-size: 14px; text-align: right; background-color: lightblue; background-position: right; float: right;" /></td>
												</tr>
											</table>
										</form:form></td>
								</tr>
							</table> 
							<!-- ============================  Packages  =========================================== -->

							<c:if test="${!empty availablePackages}">
								<c:forEach items="${availablePackages}" var="availablePackages">
								    <!--  <a href="http://www.secureinfossl.com/carts/shopping_cart/oneClickProductBuy/a645047933ed7b2eb3be5defd91e083e/0"><img src="https://www.secureinfossl.com/images/cart_buttons/cart_button_6.gif" border="0"></a></td>  -->
								
									<table class="data">
										<tr>
											<td><h1 style="color: blue; text-align: center;">Package Name: ${availablePackages.packageName} -- Price:  ${availablePackages.priceValue} </h1></td>
										</tr>
										<tr>
										    <td>
												<c:url var="paymentinformation" value="/paymentinformation" />
													<form:form method="GET" action="${paymentinformation}"
														commandName="paymentinformation">
													<input type="hidden" name="packageId" id="packageId" value="${availablePackages.id}"></input>
													<input type="hidden" name="packageName" id="packageName" value="${availablePackages.packageName}"></input>
													<input type="hidden" name="packagePrice" id="packagePrice" value="${availablePackages.priceValue}"></input>
													<input type="hidden" name="coachEmail" id="coachEmail" value="${profileInfo.getEmail()}"></input>

														<input type="submit" value="Buy This Package"
															style="text-decoration: none; font-size: 14px; text-align: right; background-color: lightblue; background-position: right; float: right;" />
													</form:form>
										    </td>
											<!--  <td><a href="http://www.secureinfossl.com/carts/shopping_cart/oneClickProductBuy/a645047933ed7b2eb3be5defd91e083e/0"><img src="https://www.secureinfossl.com/images/cart_buttons/cart_button_6.gif" border="0"></a></td>  -->
										</tr>
										<tr>
											<td style="text-align: left;"><h2>Overview </h2>${availablePackages.overView} <br> &nbsp;</td>
										</tr>
										<tr>
											<td style="text-align: left;"><h2>Details </h2>${availablePackages.packageDetails} </td>
										</tr>
										<tr><td>&nbsp;</td></tr>
									</table>
								</c:forEach>

							</c:if> <br></br>

							<!-- ============================ End Packages  =========================================== -->
</div><!-- end of packages -->
</div><!-- tabs-->


							
						</td> <!-- End style="margin-top -->

					</tr>

				</table>
			</td>
			<td
				style="vertical-align: top; width: 60px; background-color: #EAEAEA; padding: 5px;">
				<h1 style="font-size: 14px; text-align: center;">${resumeMessage}</h1>
				<h1 style="font-size: 14px; text-align: center; color: red;">${resumeMessage1}</h1>
				<c:url var="resumeUrl" value="/addResume" /> <form:form
					method="GET" action="${resumeUrl}" commandName="resumeAttribute">
					<input type="hidden" name="profileId" id="profileId" value="${profileId}"></input>
					<table>
						<tr>
							<td><input type="submit" value="Add Resume/Certifications"
								style="text-decoration: none; font-size: 14px; text-align: right; background-color: lightblue; background-position: right;" />
							</td>
						</tr>
					</table>
				</form:form> 

				<c:if test="${!empty addResumes}">
					<table class="data">

						<c:forEach items="${addResumes}" var="document">
							<c:url var="saveUrl" value="/download?id=${document.id}" />
							<c:url var="deleteUrl" value="/remove1?id=${document.id}" />
							<tr>

<%--							
<td id="photo2">
<img src="data:image/jpg;base64,<c:out value='${document.resumeImage}'/>" />
</td>
 
<td><img id="photo2" src="displayImage?profileId=${profileId}" height="70px" width="80px" /></td>
--%>

								<td width="100px" style="text-align: left;">
								<div style="width:90px;word-wrap: break-word;">${document.fileName} </div></td>
								
								<td width="40px"><a href="${saveUrl}"><img
										src="/images/save_icon.gif" border="0"
										title="Download this document" /></a> <a href="${deleteUrl}"
									onclick="return confirm('Are you sure you want to delete this document?')"><img
										src="/images/delete_icon.gif" border="0"
										title="Delete this document" /></a></td>
							</tr>
						</c:forEach>
					</table>
				</c:if> <br></br>
			</td>
	</table>
</body>
</html>
</section>
<%@ include file="/WEB-INF/views/common/footer_no_side.jsp" %>	
